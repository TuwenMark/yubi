"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[12],{16248:function(he,A,r){r.r(A),r.d(A,{default:function(){return ie}});var W=r(15009),m=r.n(W),H=r(97857),h=r.n(H),K=r(99289),U=r.n(K),Q=r(5574),f=r.n(Q),V=r(52677),X=r.n(V),Y=r(80854);function ce(n,t){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/chart/add",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},s||{})));case 1:case"end":return e.stop()}},n)})),v.apply(this,arguments)}function me(n,t){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/chart/delete",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},s||{})));case 1:case"end":return e.stop()}},n)})),y.apply(this,arguments)}function ge(n,t){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/chart/edit",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},s||{})));case 1:case"end":return e.stop()}},n)})),j.apply(this,arguments)}function k(n,t,s,u){return T.apply(this,arguments)}function T(){return T=U()(m()().mark(function n(t,s,u,e){var o;return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=new FormData,u&&o.append("file",u),Object.keys(s).forEach(function(p){var l=s[p];l!=null&&o.append(p,X()(l)==="object"&&!(l instanceof File)?JSON.stringify(l):l)}),d.abrupt("return",(0,Y.request)("/api/chart/gen",h()({method:"POST",params:h()({},t),data:o,requestType:"form"},e||{})));case 4:case"end":return d.stop()}},n)})),T.apply(this,arguments)}function fe(n,t){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/chart/get",_objectSpread({method:"GET",params:_objectSpread({},t)},s||{})));case 1:case"end":return e.stop()}},n)})),S.apply(this,arguments)}function ve(n,t){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/chart/list/page",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},s||{})));case 1:case"end":return e.stop()}},n)})),C.apply(this,arguments)}function ye(n,t){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/chart/my/list/page",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},s||{})));case 1:case"end":return e.stop()}},n)})),P.apply(this,arguments)}function je(n,t){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/chart/update",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},s||{})));case 1:case"end":return e.stop()}},n)})),x.apply(this,arguments)}var q=r(79090),_=r(88484),O=r(2453),ee=r(71230),D=r(15746),c=r(12029),G=r(96365),re=r(40038),ae=r(72708),F=r(18662),te=r(26713),$=r(4393),b=r(75081),ne=r(96074),se=r(36934),Z=r(67294),a=r(85893),ue=function(){var t,s=(0,Z.useState)(!1),u=f()(s,2),e=u[0],o=u[1],w=(0,Z.useState)(),d=f()(w,2),p=d[0],l=d[1],le=(0,Z.useState)(),I=f()(le,2),L=I[0],J=I[1],oe={labelCol:{span:6},wrapperCol:{span:14},labelAlign:"left"},de=function(){var pe=U()(m()().mark(function N(E){var z,g,B,R;return m()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e||o(!0),p&&(l(void 0),J("")),z=h()(h()({},E),{},{file:void 0}),i.prev=3,i.next=6,k(z,{},E.file.file.originFileObj);case 6:if(g=i.sent,g.data){i.next=12;break}throw O.ZP.error("\u667A\u80FD\u5206\u6790\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01"),new Error("\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A");case 12:if(O.ZP.success("\u667A\u80FD\u5206\u6790\u6210\u529F\uFF01"),R=JSON.parse((B=g.data.genChart)!==null&&B!==void 0?B:""),R){i.next=18;break}throw new Error("\u56FE\u8868\u4EE3\u7801\u89E3\u6790\u9519\u8BEF\uFF01");case 18:l(g.data),J(R);case 20:i.next=25;break;case 22:i.prev=22,i.t0=i.catch(3),O.ZP.error("\u667A\u80FD\u5206\u6790\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01");case 25:o(!1);case 26:case"end":return i.stop()}},N,null,[[3,22]])}));return function(E){return pe.apply(this,arguments)}}(),M=(0,a.jsx)(q.Z,{style:{fontSize:24},spin:!0});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(ee.Z,{gutter:24,children:[(0,a.jsx)(D.Z,{span:12,children:(0,a.jsxs)(c.Z,h()(h()({name:"validate_other"},oe),{},{onFinish:de,style:{maxWidth:600},children:[(0,a.jsx)(c.Z.Item,{name:"name",label:"\u56FE\u8868\u540D\u79F0",tooltip:"AI\u751F\u6210\u7684\u56FE\u8868\u540D\u79F0",rules:[{required:!0,message:"\u672A\u8F93\u5165\u56FE\u8868\u540D\u79F0",whitespace:!0}],children:(0,a.jsx)(G.Z,{placeholder:"\u8BF7\u8F93\u5165\u56FE\u8868\u540D\u79F0"})}),(0,a.jsx)(c.Z.Item,{name:"goal",label:"\u9700\u6C42\u76EE\u6807",rules:[{required:!0,message:"\u672A\u8F93\u5165\u5206\u6790\u9700\u6C42"}],children:(0,a.jsx)(G.Z.TextArea,{showCount:!0,maxLength:100,placeholder:"\u8BF7\u8F93\u5165\u5206\u6790\u9700\u6C42\uFF0C\u5982\uFF1A\u8BE6\u7EC6\u5206\u6790\u8FD1\u671F\u7684\u7528\u6237\u6D41\u91CF"})}),(0,a.jsx)(c.Z.Item,{name:"chartType",label:"\u56FE\u8868\u7C7B\u578B",hasFeedback:!0,rules:[{required:!0,message:"\u672A\u9009\u62E9\u56FE\u8868\u7C7B\u578B"}],children:(0,a.jsx)(re.Z,{placeholder:"\u8BF7\u9009\u62E9\u751F\u6210\u7684\u56FE\u8868\u7C7B\u578B",options:[{value:"\u6298\u7EBF\u56FE",label:"\u6298\u7EBF\u56FE"},{value:"\u67F1\u72B6\u56FE",label:"\u67F1\u72B6\u56FE"},{value:"\u997C\u56FE",label:"\u997C\u56FE"},{value:"\u96F7\u8FBE\u56FE",label:"\u96F7\u8FBE\u56FE"},{value:"\u5806\u53E0\u56FE",label:"\u5806\u53E0\u56FE"}]})}),(0,a.jsx)(c.Z.Item,{name:"file",label:"\u6587\u4EF6\u4E0A\u4F20",children:(0,a.jsx)(ae.Z,{name:"file",action:"/upload.do",maxCount:1,children:(0,a.jsx)(F.ZP,{icon:(0,a.jsx)(_.Z,{}),children:"\u70B9\u51FB\u4E0A\u4F20"})})}),(0,a.jsx)(c.Z.Item,{wrapperCol:{span:12,offset:6},children:(0,a.jsxs)(te.Z,{children:[(0,a.jsx)(F.ZP,{type:"primary",htmlType:"submit",loading:e,children:"\u63D0\u4EA4"}),(0,a.jsx)(F.ZP,{htmlType:"reset",children:"\u91CD\u7F6E"})]})})]}))}),(0,a.jsxs)(D.Z,{span:12,children:[(0,a.jsxs)($.Z,{title:"\u5206\u6790\u7ED3\u8BBA",children:[(t=p==null?void 0:p.genResult)!==null&&t!==void 0?t:e?"":(0,a.jsx)("div",{children:"\u8BF7\u5148\u5728\u5DE6\u4FA7\u8FDB\u884C\u63D0\u4EA4"}),(0,a.jsx)(b.Z,{indicator:M,spinning:e})]}),(0,a.jsx)(ne.Z,{}),(0,a.jsxs)($.Z,{title:"\u53EF\u89C6\u5316\u56FE\u8868",children:[L?(0,a.jsx)(se.Z,{option:L}):e?"":(0,a.jsx)("div",{children:"\u8BF7\u5148\u5728\u5DE6\u4FA7\u8FDB\u884C\u63D0\u4EA4"}),(0,a.jsx)(b.Z,{indicator:M,spinning:e})]})]})]})})},ie=ue}}]);
