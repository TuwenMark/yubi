"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{11053:function(re,Z,e){e.r(Z),e.d(Z,{default:function(){return Y}});var L=e(15009),c=e.n(L),O=e(97857),p=e.n(O),I=e(99289),v=e.n(I),B=e(5574),R=e.n(B),U=e(66116),g=e(80854);function ne(d,t){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function d(t,h){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/login/account",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},h||{})));case 1:case"end":return u.stop()}},d)})),x.apply(this,arguments)}function $(d,t){return A.apply(this,arguments)}function A(){return A=v()(c()().mark(function d(t,h){return c()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,g.request)("/api/login/captcha",p()({method:"POST",params:p()({},t)},h||{})));case 1:case"end":return u.stop()}},d)})),A.apply(this,arguments)}function ae(d){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime().mark(function d(t){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/login/outLogin",_objectSpread({method:"POST"},t||{})));case 1:case"end":return i.stop()}},d)})),S.apply(this,arguments)}var z=e(92045),N=e(88777),G=e(96833),b=e(97487),W=e(87547),P=e(94149),D=e(24454),M=e(82554),C=e(5966),w=e(16434),E=e(63434),T=e(19097),y=e(2453),V=e(97825),H=e(67294),K=e(73935),Q=e(67610),r=e(85893),J=function(){var t=(0,T.l)(function(h){var i=h.token;return{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:i.colorPrimaryActive}}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{className:t},"AlipayCircleOutlined"),(0,r.jsx)(G.Z,{className:t},"TaobaoCircleOutlined"),(0,r.jsx)(b.Z,{className:t},"WeiboCircleOutlined")]})},X=function(){var t=(0,H.useState)("account"),h=R()(t,2),i=h[0],u=h[1],F=(0,g.useModel)("@@initialState"),j=F.initialState,k=F.setInitialState,q=(0,T.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),_=function(){var m=v()(c()().mark(function s(){var l,o;return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j==null||(l=j.fetchUserInfo)===null||l===void 0?void 0:l.call(j);case 2:o=a.sent,o&&(0,K.flushSync)(function(){k(function(n){return p()(p()({},n),{},{currentUser:o})})});case 4:case"end":return a.stop()}},s)}));return function(){return m.apply(this,arguments)}}(),ee=function(){var m=v()(c()().mark(function s(l){var o,f;return c()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,z.E9)(p()({},l));case 3:if(o=n.sent,o.code!==0){n.next=11;break}return y.ZP.success("\u767B\u5F55\u6210\u529F\uFF01"),n.next=8,_();case 8:return f=new URL(window.location.href).searchParams,g.history.push(f.get("redirect")||"/"),n.abrupt("return");case 11:y.ZP.error("\u767B\u5F55\u5931\u8D25: "+o.message),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),y.ZP.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01");case 17:case"end":return n.stop()}},s,null,[[0,14]])}));return function(l){return m.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:q,children:[(0,r.jsx)(g.Helmet,{children:(0,r.jsxs)("title",{children:["\u767B\u5F55","- ",Q.Z.title]})}),(0,r.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,r.jsxs)(M.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,r.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"\u9C7C\u667A\u80FD BI",subTitle:"\u9C7C\u667A\u80FD BI \u662F\u77E5\u8BC6\u661F\u7403\u6700\u6709\u5F71\u54CD\u529B\u7684NB\u9879\u76EE",initialValues:{autoLogin:!0},actions:["\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F :",(0,r.jsx)(J,{},"icons")],onFinish:function(){var m=v()(c()().mark(function s(l){return c()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,ee(l);case 2:case"end":return f.stop()}},s)}));return function(s){return m.apply(this,arguments)}}(),children:[(0,r.jsx)(V.Z,{activeKey:i,onChange:u,centered:!0,items:[{key:"account",label:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"},{key:"mobile",label:"\u624B\u673A\u53F7\u767B\u5F55"}]}),i==="account"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,r.jsx)(W.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u7528\u6237\u540D\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,r.jsx)(C.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,r.jsx)(P.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"}]})]}),i==="mobile"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)(D.Z,{})},name:"mobile",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01",rules:[{required:!0,message:"\u624B\u673A\u53F7\u662F\u5FC5\u586B\u9879\uFF01"},{pattern:/^1\d{10}$/,message:"\u4E0D\u5408\u6CD5\u7684\u624B\u673A\u53F7\uFF01"}]}),(0,r.jsx)(w.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)(P.Z,{})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01",captchaTextRender:function(s,l){return s?"".concat(l," ","\u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",rules:[{required:!0,message:"\u9A8C\u8BC1\u7801\u662F\u5FC5\u586B\u9879\uFF01"}],onGetCaptcha:function(){var m=v()(c()().mark(function s(l){var o;return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$({phone:l});case 2:if(o=a.sent,o){a.next=5;break}return a.abrupt("return");case 5:y.ZP.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return a.stop()}},s)}));return function(s){return m.apply(this,arguments)}}()})]}),(0,r.jsxs)("div",{style:{marginBottom:24},children:[(0,r.jsx)(E.Z,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,r.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801 ?"})]})]})}),(0,r.jsx)(U.Z,{})]})},Y=X}}]);
